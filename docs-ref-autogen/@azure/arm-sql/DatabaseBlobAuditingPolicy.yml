### YamlMime:UniversalReference
items:
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy'
    name: DatabaseBlobAuditingPolicy
    fullName: DatabaseBlobAuditingPolicy
    children:
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.auditActionsAndGroups'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.id'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.isAzureMonitorTargetEnabled'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.isStorageSecondaryKeyInUse'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.kind'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.name'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.retentionDays'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.state'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.storageAccountAccessKey'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.storageAccountSubscriptionId'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.storageEndpoint'
      - '@azure/arm-sql.DatabaseBlobAuditingPolicy.type'
    langs:
      - typeScript
    type: interface
    summary: <span data-ttu-id="cc604-101">데이터베이스 blob 감사 정책입니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-101">A database blob auditing policy.</span></span>
    extends:
      name: '@azure/arm-sql.ProxyResource'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.auditActionsAndGroups'
    name: auditActionsAndGroups
    fullName: auditActionsAndGroups
    children: []
    langs:
      - typeScript
    type: property
    summary: |
      <span data-ttu-id="cc604-102">감사 동작 그룹 및 동작을 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-102">Specifies the Actions-Groups and Actions to audit.</span></span>
      <span data-ttu-id="cc604-103">사용 하 여 작업 그룹의 권장 되는 집합은 다음과 같은 조합을-모든 쿼리 및 저장된 프로시저 성공 및 실패 한 로그인 뿐만 아니라 데이터베이스에 대해 실행이 감사 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-103">The recommended set of action groups to use is the following combination - this will audit all the queries and stored procedures executed against the database, as well as successful and failed logins:</span></span>

      <span data-ttu-id="cc604-104">BATCH_COMPLETED_GROUP, SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP, FAILED_DATABASE_AUTHENTICATION_GROUP.</span><span class="sxs-lookup"><span data-stu-id="cc604-104">BATCH_COMPLETED_GROUP, SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP, FAILED_DATABASE_AUTHENTICATION_GROUP.</span></span>

      <span data-ttu-id="cc604-105">조합 위에이 Azure portal에서 감사를 활성화 하는 경우 기본적으로 구성 된 집합입니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-105">This above combination is also the set that is configured by default when enabling auditing from the Azure portal.</span></span>

      <span data-ttu-id="cc604-106">지원 되는 작업 그룹을 감사 됩니다 (참고: 감사 요구를 충족 하는 특정 그룹을 선택 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-106">The supported action groups to audit are (note: choose only specific groups that cover your auditing needs.</span></span> <span data-ttu-id="cc604-107">불필요 한 그룹을 사용 하 여 시킬 수 있는 다량의 감사 레코드):</span><span class="sxs-lookup"><span data-stu-id="cc604-107">Using unnecessary groups could lead to very large quantities of audit records):</span></span>

      <span data-ttu-id="cc604-108">APPLICATION_ROLE_CHANGE_PASSWORD_GROUP BACKUP_RESTORE_GROUP DATABASE_LOGOUT_GROUP DATABASE_OBJECT_CHANGE_GROUP DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP DATABASE_OBJECT_PERMISSION_CHANGE_GROUP DATABASE_OPERATION_GROUP DATABASE_ PERMISSION_CHANGE_GROUP DATABASE_PRINCIPAL_CHANGE_GROUP DATABASE_PRINCIPAL_IMPERSONATION_GROUP DATABASE_ROLE_MEMBER_CHANGE_GROUP FAILED_DATABASE_AUTHENTICATION_GROUP SCHEMA_OBJECT_ACCESS_GROUP SCHEMA_OBJECT_CHANGE_GROUP SCHEMA_ OBJECT_OWNERSHIP_CHANGE_GROUP SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP USER_CHANGE_PASSWORD_GROUP BATCH_STARTED_GROUP BATCH_COMPLETED_GROUP</span><span class="sxs-lookup"><span data-stu-id="cc604-108">APPLICATION_ROLE_CHANGE_PASSWORD_GROUP BACKUP_RESTORE_GROUP DATABASE_LOGOUT_GROUP DATABASE_OBJECT_CHANGE_GROUP DATABASE_OBJECT_OWNERSHIP_CHANGE_GROUP DATABASE_OBJECT_PERMISSION_CHANGE_GROUP DATABASE_OPERATION_GROUP DATABASE_PERMISSION_CHANGE_GROUP DATABASE_PRINCIPAL_CHANGE_GROUP DATABASE_PRINCIPAL_IMPERSONATION_GROUP DATABASE_ROLE_MEMBER_CHANGE_GROUP FAILED_DATABASE_AUTHENTICATION_GROUP SCHEMA_OBJECT_ACCESS_GROUP SCHEMA_OBJECT_CHANGE_GROUP SCHEMA_OBJECT_OWNERSHIP_CHANGE_GROUP SCHEMA_OBJECT_PERMISSION_CHANGE_GROUP SUCCESSFUL_DATABASE_AUTHENTICATION_GROUP USER_CHANGE_PASSWORD_GROUP BATCH_STARTED_GROUP BATCH_COMPLETED_GROUP</span></span>

      <span data-ttu-id="cc604-109">모든 sql 문을 포함 하는 그룹 이며 저장된 프로시저는 데이터베이스에 대해 실행 하 고 중복 감사 로그에서 발생 하므로 다른 그룹과 함께에서 사용할 수 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-109">These are groups that cover all sql statements and stored procedures executed against the database, and should not be used in combination with other groups as this will result in duplicate audit logs.</span></span>

      <span data-ttu-id="cc604-110">자세한 내용은 [데이터베이스 수준 감사 동작 그룹](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-action-groups)합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-110">For more information, see [Database-Level Audit Action Groups](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-action-groups).</span></span>

      <span data-ttu-id="cc604-111">데이터베이스 감사 정책에 대 한 특정 작업에 지정 된 (참고 서버 감사 정책에 대 한 작업을 지정할 수 없습니다) 일 수도 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-111">For Database auditing policy, specific Actions can also be specified (note that Actions cannot be specified for Server auditing policy).</span></span> <span data-ttu-id="cc604-112">감사를 지원 되는 작업입니다. 선택 업데이트 삽입 삭제 실행할 수신 참조</span><span class="sxs-lookup"><span data-stu-id="cc604-112">The supported actions to audit are: SELECT UPDATE INSERT DELETE EXECUTE RECEIVE REFERENCES</span></span>

      <span data-ttu-id="cc604-113">감사 동작을 정의 하는 것에 대 한 일반 형식은: {action} ON {개체} {사용자}가</span><span class="sxs-lookup"><span data-stu-id="cc604-113">The general form for defining an action to be audited is: {action} ON {object} BY {principal}</span></span>

      <span data-ttu-id="cc604-114"><object> 위 형식에서 테이블, 뷰 또는 저장된 프로시저 또는 전체 데이터베이스 또는 스키마와 같은 개체를 참조할 수 있습니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-114">Note that <object> in the above format can refer to an object like a table, view, or stored procedure, or an entire database or schema.</span></span> <span data-ttu-id="cc604-115">후자의 경우 데이터베이스 forms:: {db_name} 및 스키마:: {schema_name을 (를) 각각 사용 됩니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-115">For the latter cases, the forms DATABASE::{db_name} and SCHEMA::{schema_name} are used, respectively.</span></span>

      <span data-ttu-id="cc604-116">예를 들면 다음과 같습니다. 공용 SCHEMA::mySchema 공개 하 여 선택 하 여 공용 DATABASE::myDatabase 선택 하 여 dbo.myTable에 선택</span><span class="sxs-lookup"><span data-stu-id="cc604-116">For example: SELECT on dbo.myTable by public SELECT on DATABASE::myDatabase by public SELECT on SCHEMA::mySchema by public</span></span>

      <span data-ttu-id="cc604-117">자세한 내용은 참조 하세요. [데이터베이스 수준 감사 동작](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-actions)</span><span class="sxs-lookup"><span data-stu-id="cc604-117">For more information, see [Database-Level Audit Actions](https://docs.microsoft.com/en-us/sql/relational-databases/security/auditing/sql-server-audit-action-groups-and-actions#database-level-audit-actions)</span></span>
    optional: true
    syntax:
      content: 'auditActionsAndGroups?: string[]'
      return:
        type:
          - 'string[]'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.id'
    name: id
    fullName: id
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="cc604-118">리소스 ID입니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-118">Resource ID.</span></span>
      <span data-ttu-id="cc604-119">**참고: 이 속성이 serialize 되지 않습니다. 또한 서버에서 채울 수만 있습니다.**</span><span class="sxs-lookup"><span data-stu-id="cc604-119">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'id?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.isAzureMonitorTargetEnabled'
    name: isAzureMonitorTargetEnabled
    fullName: isAzureMonitorTargetEnabled
    children: []
    langs:
      - typeScript
    type: property
    summary: |
      <span data-ttu-id="cc604-120">Azure Monitor에 감사 이벤트를 보낼지 여부를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-120">Specifies whether audit events are sent to Azure Monitor.</span></span>
      <span data-ttu-id="cc604-121">Azure Monitor로 이벤트를 보내려면 'Enabled' 및 'IsAzureMonitorTargetEnabled' true 'State'를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-121">In order to send the events to Azure Monitor, specify 'State' as 'Enabled' and 'IsAzureMonitorTargetEnabled' as true.</span></span>
      <span data-ttu-id="cc604-122">감사를 구성 하려면 REST API를 사용 하는 경우 데이터베이스에서 'SQLSecurityAuditEvents' 진단 로그 범주를 사용 하 여 진단 설정도 만들어야 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-122">When using REST API to configure auditing, Diagnostic Settings with 'SQLSecurityAuditEvents' diagnostic logs category on the database should be also created.</span></span>
      <span data-ttu-id="cc604-123">서버 수준에 대 한 감사 하는 'master' 데이터베이스 {databaseName} 사용 해야 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-123">Note that for server level audit you should use the 'master' database as {databaseName}.</span></span>

      <span data-ttu-id="cc604-124">진단 설정 URI 형식: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/providers/microsoft.insights/diagnosticSettings/{settingsName}?api-version=2017-05-01-preview</span><span class="sxs-lookup"><span data-stu-id="cc604-124">Diagnostic Settings URI format: PUT https://management.azure.com/subscriptions/{subscriptionId}/resourceGroups/{resourceGroup}/providers/Microsoft.Sql/servers/{serverName}/databases/{databaseName}/providers/microsoft.insights/diagnosticSettings/{settingsName}?api-version=2017-05-01-preview</span></span>

      <span data-ttu-id="cc604-125">자세한 내용은 [진단 설정 REST API](https://go.microsoft.com/fwlink/?linkid=2033207) 또는 [진단 설정을 PowerShell](https://go.microsoft.com/fwlink/?linkid=2033043)</span><span class="sxs-lookup"><span data-stu-id="cc604-125">For more information, see [Diagnostic Settings REST API](https://go.microsoft.com/fwlink/?linkid=2033207) or [Diagnostic Settings PowerShell](https://go.microsoft.com/fwlink/?linkid=2033043)</span></span>
    optional: true
    syntax:
      content: 'isAzureMonitorTargetEnabled?: undefined | false | true'
      return:
        type:
          - undefined | false | true
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.isStorageSecondaryKeyInUse'
    name: isStorageSecondaryKeyInUse
    fullName: isStorageSecondaryKeyInUse
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="cc604-126">StorageAccountAccessKey 값 저장소의 보조 키를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-126">Specifies whether storageAccountAccessKey value is the storage's secondary key.</span></span>
    optional: true
    syntax:
      content: 'isStorageSecondaryKeyInUse?: undefined | false | true'
      return:
        type:
          - undefined | false | true
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.kind'
    name: kind
    fullName: kind
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="cc604-127">리소스 종류입니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-127">Resource kind.</span></span>
      <span data-ttu-id="cc604-128">**참고: 이 속성이 serialize 되지 않습니다. 또한 서버에서 채울 수만 있습니다.**</span><span class="sxs-lookup"><span data-stu-id="cc604-128">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'kind?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.name'
    name: name
    fullName: name
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="cc604-129">리소스 이름입니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-129">Resource name.</span></span>
      <span data-ttu-id="cc604-130">**참고: 이 속성이 serialize 되지 않습니다. 또한 서버에서 채울 수만 있습니다.**</span><span class="sxs-lookup"><span data-stu-id="cc604-130">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'name?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.retentionDays'
    name: retentionDays
    fullName: retentionDays
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="cc604-131">저장소 계정에서 로그에 감사를 유지할 일 수를 지정 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-131">Specifies the number of days to keep in the audit logs in the storage account.</span></span>
    optional: true
    syntax:
      content: 'retentionDays?: undefined | number'
      return:
        type:
          - undefined | number
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.state'
    name: state
    fullName: state
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="cc604-132">정책의 상태를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-132">Specifies the state of the policy.</span></span> <span data-ttu-id="cc604-133">상태를 사용 하는 경우 storageEndpoint 또는 isAzureMonitorTargetEnabled 필요 않습니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-133">If state is Enabled, storageEndpoint or isAzureMonitorTargetEnabled are required.</span></span> <span data-ttu-id="cc604-134">가능한 값은 다음과 같습니다. '' Enabled'', ''Disabled''</span><span class="sxs-lookup"><span data-stu-id="cc604-134">Possible values include: ''Enabled'', ''Disabled''</span></span>'
    syntax:
      content: 'state: BlobAuditingPolicyState'
      return:
        type:
          - '@azure/arm-sql.BlobAuditingPolicyState'
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.storageAccountAccessKey'
    name: storageAccountAccessKey
    fullName: storageAccountAccessKey
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="cc604-135">감사 저장소 계정의 식별자 키를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-135">Specifies the identifier key of the auditing storage account.</span></span> <span data-ttu-id="cc604-136">상태를 사용 하 고 storageEndpoint를 지정 하면 storageAccountAccessKey이 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-136">If state is Enabled and storageEndpoint is specified, storageAccountAccessKey is required.</span></span>'
    optional: true
    syntax:
      content: 'storageAccountAccessKey?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.storageAccountSubscriptionId'
    name: storageAccountSubscriptionId
    fullName: storageAccountSubscriptionId
    children: []
    langs:
      - typeScript
    type: property
    summary: <span data-ttu-id="cc604-137">Blob 저장소 구독 id를 지정합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-137">Specifies the blob storage subscription Id.</span></span>
    optional: true
    syntax:
      content: 'storageAccountSubscriptionId?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.storageEndpoint'
    name: storageEndpoint
    fullName: storageEndpoint
    children: []
    langs:
      - typeScript
    type: property
    summary: '<span data-ttu-id="cc604-138">Blob 저장소 끝점을 지정 합니다 (예: https://MyAccount.blob.core.windows.net)합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-138">Specifies the blob storage endpoint (e.g. https://MyAccount.blob.core.windows.net).</span></span> <span data-ttu-id="cc604-139">상태를 사용 하는 경우 storageEndpoint 필요 합니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-139">If state is Enabled, storageEndpoint is required.</span></span>'
    optional: true
    syntax:
      content: 'storageEndpoint?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
  - uid: '@azure/arm-sql.DatabaseBlobAuditingPolicy.type'
    name: type
    fullName: type
    children: []
    langs:
      - typeScript
    type: property
    summary: |-
      <span data-ttu-id="cc604-140">리소스 종류입니다.</span><span class="sxs-lookup"><span data-stu-id="cc604-140">Resource type.</span></span>
      <span data-ttu-id="cc604-141">**참고: 이 속성이 serialize 되지 않습니다. 또한 서버에서 채울 수만 있습니다.**</span><span class="sxs-lookup"><span data-stu-id="cc604-141">**NOTE: This property will not be serialized. It can only be populated by the server.**</span></span>
    optional: true
    syntax:
      content: 'type?: undefined | string'
      return:
        type:
          - undefined | string
    package: '@azure/arm-sql'
references:
  - uid: '@azure/arm-sql.ProxyResource'
    name: ProxyResource
    spec.typeScript:
      - name: ProxyResource
        fullName: ProxyResource
        uid: '@azure/arm-sql.ProxyResource'
  - uid: '@azure/arm-sql.BlobAuditingPolicyState'
    name: BlobAuditingPolicyState
    spec.typeScript:
      - name: BlobAuditingPolicyState
        fullName: BlobAuditingPolicyState
        uid: '@azure/arm-sql.BlobAuditingPolicyState'